# 多模态对话交互功能指南

## 🎯 功能概述

AI助手现已支持**多模态对话交互**，可以同时处理文字、语音和图片，让沟通更加丰富和智能！

## 🚀 功能特性

### 📝 支持的输入方式
1. **纯文字对话** - 传统的文字消息
2. **语音对话** - 语音识别转文字 
3. **图片+文字** - 上传图片并配合文字描述
4. **纯图片** - 只发送图片让AI分析

### 🎨 智能多模态回复
- **根据问题内容智能触发**多模态回复
- AI会根据您的问题类型展示相关图片
- 提供与问题内容一致的图片分析和相关信息

### 📁 图片管理
- **专用文件夹**: `images/examples/` 存放示例图片
- **支持格式**: JPG, PNG, GIF, SVG等常见图片格式
- **自动预览**: 上传后立即显示缩略图

## 📱 使用方法

### 基础操作

1. **文字输入**
   - 在底部输入框中输入文字
   - 点击发送按钮或按回车键发送

2. **语音输入**
   - 长按右侧蓝色麦克风按钮说话
   - 松开按钮自动识别并发送

3. **图片上传**
   - 点击左侧相机图标选择图片
   - 图片会显示预览，可点击X按钮取消
   - 配合文字描述更好地表达需求

### 高级功能

#### 多模态对话示例

**场景1: 店铺询问**
- 上传店铺照片 + "这家店什么时间关门？"
- AI会分析图片中的营业时间信息

**场景2: 食物查询**  
- 上传食物照片 + "这个的卡路里是多少？"
- AI提供营养成分和热量信息

**场景3: 场景描述**
- 上传风景照片 + "描述下这张图片"
- AI详细描述图片内容和环境特点

## 🎭 AI智能多模态交互

### 触发机制
- **内容匹配**: 根据用户问题的关键词智能判断
- **上下文相关**: 只有当问题适合图片展示时才触发
- **智能频率**: 结合对话次数和内容相关性决定触发时机

### 智能匹配规则

#### 🔋 轮椅状态类问题
- **关键词**: 电量、轮椅状态、状态、电池、续航
- **展示图片**: 公园环境图
- **回复内容**: 状态信息 + 适合轮椅活动的环境推荐

#### 🗺️ 导航位置类问题  
- **关键词**: 位置、在哪、导航、路线、去哪、充电桩、充电
- **展示图片**: 目的地环境图
- **回复内容**: 位置信息 + 推荐目的地环境介绍

#### 🍞 健康营养类问题
- **关键词**: 吃、食物、营养、健康、卡路里、饮食
- **展示图片**: 营养分析示例图
- **回复内容**: 健康建议 + 营养分析示例

#### 🏪 服务店铺类问题
- **关键词**: 店、商店、服务、购物、买、营业、时间
- **展示图片**: 无障碍商店示例图
- **回复内容**: 服务信息 + 无障碍设施介绍

## 📂 文件结构

```
cmg_ui_h5/
├── images/
│   └── examples/          # 示例图片文件夹
│       ├── store-front.svg    # 店铺图片
│       ├── croissant.svg      # 食物图片
│       └── park-scene.svg     # 风景图片
└── index.html             # 主页面文件
```

## 🎯 最佳使用建议

### 图片命名规范
- 按功能命名: `store-营业时间.jpg`
- 按内容命名: `croissant-卡路里查询.png`
- 使用描述性名称便于AI理解

### 对话技巧
1. **明确描述**: "你看下这个面包它卡路里有多少"
2. **具体询问**: "这家店什么时间关门"
3. **场景描述**: "描述下图片的内容"

### 图片要求
- **清晰度**: 确保图片清晰可识别
- **相关性**: 图片内容与问题相关
- **大小**: 建议不超过5MB

## 🔧 开发者说明

### 添加新示例图片
1. 将图片放入 `images/examples/` 文件夹
2. 在 `sampleImages` 数组中添加配置
3. 更新相应的AI回复逻辑

### 自定义回复逻辑
- 修改 `contextualResponses` 配置添加新的问题类型
- 在 `findContextualMatch` 函数中调整关键词匹配规则
- 在 `shouldTriggerMultimodal` 中调整触发频率策略
- 每个配置包含：关键词数组、图片路径、回复生成函数

## 🎉 体验建议

### 💡 触发智能多模态回复
1. **轮椅状态查询**: 问"轮椅电量怎么样？" → 获得状态信息+环境推荐
2. **导航位置询问**: 问"我现在在哪里？" → 获得位置信息+目的地推荐  
3. **健康营养话题**: 问"有什么健康的食物推荐？" → 获得建议+营养示例
4. **服务店铺相关**: 问"附近有什么商店？" → 获得信息+无障碍服务介绍

### 🔄 多样化体验
1. **尝试不同组合**: 文字+图片、纯图片、纯语音
2. **观察智能回复**: 注意AI如何根据问题内容匹配相关图片
3. **实验真实场景**: 拍摄真实的店铺、食物等进行询问
4. **测试关键词**: 使用不同的关键词看AI如何智能匹配

---

享受全新的多模态对话体验！🎊 